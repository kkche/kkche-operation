
tar vxjf sublime_text_3_build_3059_x64.tar.bz2
sudo mv sublime_text_3 /opt/sublime_text/
sudo chown -R root:root /opt/sublime_text/

sudo bash -c "cat > /usr/share/applications/sublime_text.desktop" <<EOF
[Desktop Entry]
Version=1.0
Type=Application
Name=Sublime Text
GenericName=Text Editor
Comment=Sophisticated text editor for code, markup and prose
Exec=/opt/sublime_text/sublime_text %F
Terminal=false
MimeType=text/plain;
Icon=sublime-text
Categories=TextEditor;Development;
StartupNotify=true
Actions=Window;Document;

[Desktop Action Window]
Name=New Window
Exec=/opt/sublime_text/sublime_text -n
OnlyShowIn=Unity;

[Desktop Action Document]
Name=New File
Exec=/opt/sublime_text/sublime_text --command new_file
OnlyShowIn=Unity;
EOF

sudo sed -i 's/gedit.desktop/sublime.desktop/g' /usr/share/applications/defaults.list

